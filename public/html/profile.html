<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/public/css/bootstrap-4.0.0-dist/css/bootstrap.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Pacifico&family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/7f212a760d.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/public/css/styles.css">


</head>

<body>
    <div class="row">
        <div class="col-md-2">
            <!-- Sidebar -->
            <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
                <div class="position-sticky">
                    <div class="list-group list-group-flush mx-3 mt-4">
                        <a href="/profile" class="list-group-item list-group-item-action py-6 ripple active"
                            id="profile_tab">
                            <i class="fa-solid fa-user" style="margin-right: 15px;"></i></i><span>Profile</span>
                        </a>
                        <a href="/dashboard" class="list-group-item list-group-item-action  py-6 ripple"
                            id="dashboard_tab"><i class="fa-solid fa-square-poll-vertical"
                                style="margin-right: 15px;"></i><span>Dashboard</span></a>
                        <a href="/rooms" class="list-group-item list-group-item-action  py-6 ripple" id="rooms_tab"><i
                                class="fa-solid fa-building" style="margin-right: 15px;"></i><span>Rooms</span></a>
                        <a href="/students" class="list-group-item list-group-item-action py-6 ripple"
                            id="students_tab">
                            <i class="fa-solid fa-user-graduate" style="margin-right: 15px;"></i><span>Students</span>
                        </a>
                        <a href="/staff.html" class="list-group-item list-group-item-action py-6 ripple"
                            id="staff_tab"><i class="fa-solid fa-users"
                                style="margin-right: 15px;"></i><span>Staff</span></a>
                    </div>
                </div>
            </nav>
            <!-- Sidebar -->

        </div>
        <div class="col-md-10 screen-padding">
            <!--Main layout-->
            <h1 style="padding-bottom: 1rem; display: inline;">Profile </h1>
            
            
            <form action="" method="post">
                <div class="row" style=" display: flex; justify-content: space-between;">
                    <div class="col-md-5" style="text-align: center;">

                        <!-- Name -->
                        <div class="row student-details-row">
                            <h2 style="margin-right: 2rem;">Hostel Name : </h2>
                            <input readonly onchange="InputChangeListener()" type="text" name="name" id="nameField"
                            class="student-details-field">
                        </div>

                        <!-- Educational Institute -->
                        <div class="row student-details-row">
                            <h2 style="margin-right: 2rem;">Total Rooms : </h2>
                            <input onchange="InputChangeListener()" type="text" name="institue" id="educationField" 
                            class="student-details-field">
                        </div>

                        <!-- Change Password -->
                        <div class="row student-details-row">
                            <h2 style="margin-right: 2rem;">Change Password : </h2>
                            <button id="delete-btn" class="delete_btn">
                                Change Password
                            </button>
                        </div>

              
                        <!-- Address -->
                        <div class="row student-details-row">
                            <h2 style="margin-right: 2rem;">Hostel Address : </h2>
                            <textarea onchange="InputChangeListener()" name="address" id="addressField" cols="23" rows="5" class="student-details-field"
                                style="text-align: start;"></textarea>
                        </div>
                        
                    </div>
                    

                        <input type="text" name="id" style="display: none;" value=<%= studentData["id"]  %> >

                    </div>
                </div>
            </form> 
        </div>
        <!--Main layout-->
    </div>


    <!-- Delete Student Pop-Up -->
    <div>
        <div class="modal-container" id="delete_popup">
            <div class="modal-content" style="text-align: center;">
                <h3 id="delete_txt">Do you want to delete this student?</h3>
                <form action="/deleteStudent" method="post">
                    <div class="col"
                        style="text-align: center; display: flex; justify-content: center; align-items: center;">
                        <button type="submit" name="studentId" value=<%= studentData["id"]  %>  class="add-student-btn-close" id="delete_student">DELETE</button>
                        <button type="reset" class="add-student-btn-close-no-bg" id="delete_closeModal">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- Bootstrap Script -->
    <script src="/public/css/bootstrap-4.0.0-dist/js/bootstrap.js/>"></script>

    <!-- JQuery SCript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>

    <script type="text/javascript" src="/public/js/navbar.js"></script>

    <!-- Delete student pop-up script -->
    <script>
        const delete_openModal_btn = document.getElementById('delete-btn');
        const delete_closeModal = document.getElementById('delete_closeModal');
        const delete_modal_container = document.getElementById('delete_popup');

            delete_openModal_btn.addEventListener('click', (e) => {
                var studName = `<%= studentData["name"] %>`;
                delete_modal_container.getElementsByClassName("modal-content")[0].getElementsByTagName("h3")[0].innerHTML = `Do you want to delete <b>${studName}</b>?`;
                delete_modal_container.classList.add('show');
            });
        

        delete_closeModal.addEventListener('click', () => {
            delete_modal_container.classList.remove('show');
        });
    </script>

    <script>
        // var nameField = document.getElementById("nameField");
        // var institueField = document.getElementById("educationField");
        // var roomField =  document.getElementById("roomField");
        // var emailField = document.getElementById("emailField");
        // var mobileField = document.getElementById("mobileField");
        // var emergencyField = document.getElementById("emergencyField");
        // var dobField = document.getElementById("dobField");
        // var addressField = document.getElementById("addressField");
        
        // nameField.value = `<%= studentData["name"] %>`;
        // institueField.value = `<%= studentData["institue"] %>`;
        // emailField.value = `<%= studentData["email"] %>`;
        // mobileField.value = `<%= studentData["phone"] %>`;
        // emergencyField.value = `<%= studentData["emergencyContact"] %>`;
        // dobField.value = `<%= studentData["dob"] %>`;    

           </script>
</body>

</html>